{"version":3,"sources":["../../src/utils/fetchExternal.js"],"names":["fetchExternal","url","callback","window","fetch","AbortController","controller","method","signal","then","response","text","catch","error","abort"],"mappings":";;;;;;;AAAA;;;;;;;;AAQe,SAASA,aAAT,CAAuBC,GAAvB,EAA4BC,QAA5B,EAAsC;AAAA,gBACdC,MADc;AAAA,MACzCC,KADyC,WACzCA,KADyC;AAAA,MAClCC,eADkC,WAClCA,eADkC;AAEjD,MAAMC,UAAU,GAAG,IAAID,eAAJ,EAAnB;AACAD,EAAAA,KAAK,CAACH,GAAD,EAAM;AACPM,IAAAA,MAAM,EAAE,KADD;AAEPC,IAAAA,MAAM,EAAEF,UAAU,CAACE;AAFZ,GAAN,CAAL,CAIKC,IAJL,CAIU,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GAJlB,EAKKF,IALL,CAKU,UAAAE,IAAI;AAAA,WAAIT,QAAQ,CAAC,IAAD,EAAOS,IAAP,CAAZ;AAAA,GALd,EAMKC,KANL,CAMW,UAAAC,KAAK;AAAA,WAAIX,QAAQ,CAACW,KAAD,EAAQ,IAAR,CAAZ;AAAA,GANhB;AAQA,SAAO;AAAA,WAAMP,UAAU,CAACQ,KAAX,EAAN;AAAA,GAAP;AACH","sourcesContent":["/**\n * Loads the contents of an external resource as a string using window.fetch and invokes a callback.\n * Returns a function to abort the request.\n *\n * @param {String} url the URL of a resource to load\n * @param {Function} callback function with a `(error, result)` signature\n * @return {Function} a function that aborts the request\n */\nexport default function fetchExternal(url, callback) {\n    const { fetch, AbortController } = window;\n    const controller = new AbortController();\n    fetch(url, {\n        method: 'get',\n        signal: controller.signal\n    })\n        .then(response => response.text())\n        .then(text => callback(null, text))\n        .catch(error => callback(error, null));\n\n    return () => controller.abort();\n}\n"],"file":"fetchExternal.js"}